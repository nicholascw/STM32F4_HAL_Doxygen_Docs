\hypertarget{stm32f4xx__hal__dcmi_8c}{}\doxysection{src/stm32f4xx\+\_\+hal\+\_\+dcmi.c 文件参考}
\label{stm32f4xx__hal__dcmi_8c}\index{src/stm32f4xx\_hal\_dcmi.c@{src/stm32f4xx\_hal\_dcmi.c}}


D\+C\+MI H\+AL module driver This file provides firmware functions to manage the following functionalities of the Digital Camera Interface (D\+C\+MI) peripheral\+:  


{\ttfamily \#include \char`\"{}stm32f4xx\+\_\+hal.\+h\char`\"{}}\newline
stm32f4xx\+\_\+hal\+\_\+dcmi.\+c 的引用(Include)关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{stm32f4xx__hal__dcmi_8c__incl}
\end{center}
\end{figure}


\doxysubsection{详细描述}
D\+C\+MI H\+AL module driver This file provides firmware functions to manage the following functionalities of the Digital Camera Interface (D\+C\+MI) peripheral\+: 

\begin{DoxyAuthor}{作者}
M\+CD Application Team
\begin{DoxyItemize}
\item Initialization and de-\/initialization functions
\item IO operation functions
\item Peripheral Control functions
\item Peripheral State and Error functions
\end{DoxyItemize}
\end{DoxyAuthor}
\begin{DoxyVerb}==============================================================================
                      ##### How to use this driver #####
==============================================================================
[..]
    The sequence below describes how to use this driver to capture image
    from a camera module connected to the DCMI Interface.
    This sequence does not take into account the configuration of the
    camera module, which should be made before to configure and enable
    the DCMI to capture images.

  (#) Program the required configuration through following parameters:
      horizontal and vertical polarity, pixel clock polarity, Capture Rate,
      Synchronization Mode, code of the frame delimiter and data width 
      using HAL_DCMI_Init() function.

  (#) Configure the DMA2_Stream1 channel1 to transfer Data from DCMI DR
      register to the destination memory buffer.

  (#) Program the required configuration through following parameters:
      DCMI mode, destination memory Buffer address and the data length
      and enable capture using HAL_DCMI_Start_DMA() function.

  (#) Optionally, configure and Enable the CROP feature to select a rectangular
      window from the received image using HAL_DCMI_ConfigCrop()
      and HAL_DCMI_EnableCROP() functions

  (#) The capture can be stopped using HAL_DCMI_Stop() function.

  (#) To control DCMI state you can use the function HAL_DCMI_GetState().

   *** DCMI HAL driver macros list ***
   =============================================
   [..]
     Below the list of most used macros in DCMI HAL driver.
     
    (+) __HAL_DCMI_ENABLE: Enable the DCMI peripheral.
    (+) __HAL_DCMI_DISABLE: Disable the DCMI peripheral.
    (+) __HAL_DCMI_GET_FLAG: Get the DCMI pending flags.
    (+) __HAL_DCMI_CLEAR_FLAG: Clear the DCMI pending flags.
    (+) __HAL_DCMI_ENABLE_IT: Enable the specified DCMI interrupts.
    (+) __HAL_DCMI_DISABLE_IT: Disable the specified DCMI interrupts.
    (+) __HAL_DCMI_GET_IT_SOURCE: Check whether the specified DCMI interrupt has occurred or not.

   [..]
     (@) You can refer to the DCMI HAL driver header file for more useful macros
    
  *** Callback registration ***
  =============================

  The compilation define USE_HAL_DCMI_REGISTER_CALLBACKS when set to 1
  allows the user to configure dynamically the driver callbacks.
  Use functions @ref HAL_DCMI_RegisterCallback() to register a user callback.

  Function @ref HAL_DCMI_RegisterCallback() allows to register following callbacks:
    (+) FrameEventCallback : DCMI Frame Event.
    (+) VsyncEventCallback : DCMI Vsync Event.
    (+) LineEventCallback  : DCMI Line Event.
    (+) ErrorCallback      : DCMI error.
    (+) MspInitCallback    : DCMI MspInit.
    (+) MspDeInitCallback  : DCMI MspDeInit.
  This function takes as parameters the HAL peripheral handle, the callback ID
  and a pointer to the user callback function.

  Use function @ref HAL_DCMI_UnRegisterCallback() to reset a callback to the default
  weak (surcharged) function.
  @ref HAL_DCMI_UnRegisterCallback() takes as parameters the HAL peripheral handle,
  and the callback ID.
  This function allows to reset following callbacks:
    (+) FrameEventCallback : DCMI Frame Event.
    (+) VsyncEventCallback : DCMI Vsync Event.
    (+) LineEventCallback  : DCMI Line Event.
    (+) ErrorCallback      : DCMI error.
    (+) MspInitCallback    : DCMI MspInit.
    (+) MspDeInitCallback  : DCMI MspDeInit.

  By default, after the @ref HAL_DCMI_Init and if the state is HAL_DCMI_STATE_RESET
  all callbacks are reset to the corresponding legacy weak (surcharged) functions:
  examples @ref FrameEventCallback(), @ref HAL_DCMI_ErrorCallback().
  Exception done for MspInit and MspDeInit callbacks that are respectively
  reset to the legacy weak (surcharged) functions in the @ref HAL_DCMI_Init
  and @ref  HAL_DCMI_DeInit only when these callbacks are null (not registered beforehand).
  If not, MspInit or MspDeInit are not null, the @ref HAL_DCMI_Init and @ref HAL_DCMI_DeInit
  keep and use the user MspInit/MspDeInit callbacks (registered beforehand).

  Callbacks can be registered/unregistered in READY state only.
  Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
  in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
  during the Init/DeInit.
  In that case first register the MspInit/MspDeInit user callbacks
  using @ref HAL_DCMI_RegisterCallback before calling @ref HAL_DCMI_DeInit
  or @ref HAL_DCMI_Init function.

  When the compilation define USE_HAL_DCMI_REGISTER_CALLBACKS is set to 0 or
  not defined, the callback registering feature is not available
  and weak (surcharged) callbacks are used.\end{DoxyVerb}


\begin{DoxyAttention}{注意}

\end{DoxyAttention}
\doxysubsubsection*{\begin{center}\copyright{} Copyright (c) 2017 S\+T\+Microelectronics. All rights reserved.\end{center} }

This software component is licensed by ST under B\+SD 3-\/Clause license, the \char`\"{}\+License\char`\"{}; You may not use this file except in compliance with the License. You may obtain a copy of the License at\+: opensource.\+org/licenses/\+B\+S\+D-\/3-\/\+Clause 