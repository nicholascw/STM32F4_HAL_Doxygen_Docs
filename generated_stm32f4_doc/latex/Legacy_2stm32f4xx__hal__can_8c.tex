\hypertarget{Legacy_2stm32f4xx__hal__can_8c}{}\doxysection{src/\+Legacy/stm32f4xx\+\_\+hal\+\_\+can.c 文件参考}
\label{Legacy_2stm32f4xx__hal__can_8c}\index{src/Legacy/stm32f4xx\_hal\_can.c@{src/Legacy/stm32f4xx\_hal\_can.c}}


This file provides firmware functions to manage the following functionalities of the Controller Area Network (C\+AN) peripheral\+:  


{\ttfamily \#include \char`\"{}stm32f4xx\+\_\+hal.\+h\char`\"{}}\newline
stm32f4xx\+\_\+hal\+\_\+can.\+c 的引用(Include)关系图\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{Legacy_2stm32f4xx__hal__can_8c__incl}
\end{center}
\end{figure}


\doxysubsection{详细描述}
This file provides firmware functions to manage the following functionalities of the Controller Area Network (C\+AN) peripheral\+: 

\begin{DoxyAuthor}{作者}
M\+CD Application Team
\begin{DoxyItemize}
\item Initialization and de-\/initialization functions
\item IO operation functions
\item Peripheral Control functions
\item Peripheral State and Error functions
\end{DoxyItemize}
\end{DoxyAuthor}
\begin{DoxyVerb}==============================================================================
                               ##### User NOTE #####
==============================================================================
  [..]
    (#) This HAL CAN driver is deprecated, it contains some CAN Tx/Rx FIFO management limitations.
        Another HAL CAN driver version has been designed with new API's, to fix these limitations.

==============================================================================
                      ##### How to use this driver #####
==============================================================================
  [..]            
    (#) Enable the CAN controller interface clock using 
        __HAL_RCC_CAN1_CLK_ENABLE() for CAN1, __HAL_RCC_CAN2_CLK_ENABLE() for CAN2
       and __HAL_RCC_CAN3_CLK_ENABLE() for CAN3
    -@- In case you are using CAN2 only, you have to enable the CAN1 clock.
     
    (#) CAN pins configuration
      (++) Enable the clock for the CAN GPIOs using the following function:
           __GPIOx_CLK_ENABLE()   
      (++) Connect and configure the involved CAN pins to AF9 using the 
            following function HAL_GPIO_Init() 
            
    (#) Initialize and configure the CAN using CAN_Init() function.   
               
    (#) Transmit the desired CAN frame using HAL_CAN_Transmit() function.

    (#) Or transmit the desired CAN frame using HAL_CAN_Transmit_IT() function.
         
    (#) Receive a CAN frame using HAL_CAN_Receive() function.

    (#) Or receive a CAN frame using HAL_CAN_Receive_IT() function.

   *** Polling mode IO operation ***
   =================================
   [..]    
     (+) Start the CAN peripheral transmission and wait the end of this operation 
         using HAL_CAN_Transmit(), at this stage user can specify the value of timeout
         according to his end application
     (+) Start the CAN peripheral reception and wait the end of this operation 
         using HAL_CAN_Receive(), at this stage user can specify the value of timeout
         according to his end application 
     
   *** Interrupt mode IO operation ***    
   ===================================
   [..]    
     (+) Start the CAN peripheral transmission using HAL_CAN_Transmit_IT()
     (+) Start the CAN peripheral reception using HAL_CAN_Receive_IT()         
     (+) Use HAL_CAN_IRQHandler() called under the used CAN Interrupt subroutine
     (+) At CAN end of transmission HAL_CAN_TxCpltCallback() function is executed and user can 
          add his own code by customization of function pointer HAL_CAN_TxCpltCallback 
     (+) In case of CAN Error, HAL_CAN_ErrorCallback() function is executed and user can 
          add his own code by customization of function pointer HAL_CAN_ErrorCallback

   *** CAN HAL driver macros list ***
   ============================================= 
   [..]
     Below the list of most used macros in CAN HAL driver.
     
    (+) __HAL_CAN_ENABLE_IT: Enable the specified CAN interrupts
    (+) __HAL_CAN_DISABLE_IT: Disable the specified CAN interrupts
    (+) __HAL_CAN_GET_IT_SOURCE: Check if the specified CAN interrupt source is enabled or disabled
    (+) __HAL_CAN_CLEAR_FLAG: Clear the CAN's pending flags
    (+) __HAL_CAN_GET_FLAG: Get the selected CAN's flag status

   [..]
    (@) You can refer to the CAN Legacy HAL driver header file for more useful macros\end{DoxyVerb}


\begin{DoxyAttention}{注意}

\end{DoxyAttention}
\doxysubsubsection*{\begin{center}\copyright{} Copyright (c) 2017 S\+T\+Microelectronics. All rights reserved.\end{center} }

This software component is licensed by ST under B\+SD 3-\/Clause license, the \char`\"{}\+License\char`\"{}; You may not use this file except in compliance with the License. You may obtain a copy of the License at\+: opensource.\+org/licenses/\+B\+S\+D-\/3-\/\+Clause 